<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ShareX.ID - Platform Patungan Akun Premium</title>
    
  
    <!-- SEO Meta Tags -->
    <meta name="description" content="ShareX.id adalah platform patungan akun premium terpercaya untuk Netflix, Spotify, YouTube Premium, dan ChatGPT Plus. Hemat hingga 75% dengan sistem patungan yang aman dan legal.">
    <meta name="keywords" content="patungan akun premium, netflix murah, spotify premium murah, youtube premium murah, chatgpt plus murah, langganan hemat, sharex indonesia">
    <meta name="robots" content="index, follow">
    <meta name="author" content="PT. FAHOVE TEKNOLOGI INDONESIA">
    
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://sharex.id/">
    <meta property="og:title" content="ShareX.id - Platform Patungan Akun Premium Terpercaya">
    <meta property="og:description" content="Hemat hingga 75% untuk akun premium Netflix, Spotify, YouTube Premium, dan ChatGPT Plus dengan sistem patungan yang aman dan terpercaya.">
    <meta property="og:image" content="https://sharex.id/logo.png">
    <meta property="og:site_name" content="ShareX.id">
    <meta property="og:locale" content="id_ID">
    
    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="https://sharex.id/">
    <meta property="twitter:title" content="ShareX.id - Platform Patungan Akun Premium Terpercaya">
    <meta property="twitter:description" content="Hemat hingga 75% untuk akun premium Netflix, Spotify, YouTube Premium, dan ChatGPT Plus dengan sistem patungan yang aman dan terpercaya.">
    <meta property="twitter:image" content="https://sharex.id/logo.png">
    
    <!-- Canonical URL -->
    <link rel="canonical" href="https://sharex.id/">
    
    <!-- Favicon -->
    <link rel="icon" href="logo.png" type="image/png">
    <link rel="icon" type="image/png" sizes="32x32" href="logo.png">
    <link rel="icon" type="image/png" sizes="16x16" href="logo.png">
    <link rel="shortcut icon" href="logo.png">
    <link rel="apple-touch-icon" sizes="180x180" href="logo.png">
    <link rel="apple-touch-icon" sizes="152x152" href="logo.png">
    <link rel="apple-touch-icon" sizes="144x144" href="logo.png">
    <link rel="apple-touch-icon" sizes="120x120" href="logo.png">
    <link rel="apple-touch-icon" sizes="114x114" href="logo.png">
    <link rel="apple-touch-icon" sizes="76x76" href="logo.png">
    <link rel="apple-touch-icon" sizes="72x72" href="logo.png">
    <link rel="apple-touch-icon" sizes="60x60" href="logo.png">
    <link rel="apple-touch-icon" sizes="57x57" href="logo.png">
    
    <!-- Android Chrome -->
    <link rel="icon" type="image/png" sizes="192x192" href="logo.png">
    <link rel="icon" type="image/png" sizes="512x512" href="logo.png">
    
    <!-- Microsoft Tiles -->
    <meta name="msapplication-TileImage" content="logo.png">
    <meta name="msapplication-TileColor" content="#10b981">
    <meta name="theme-color" content="#10b981">
    
    <!-- Preconnect for better performance -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="preconnect" href="https://cdn.tailwindcss.com">
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: {
                            50: '#eff6ff',
                            100: '#dbeafe',
                            500: '#3b82f6',
                            600: '#2563eb',
                            700: '#1d4ed8',
                            900: '#1e3a8a'
                        }
                    },
                    animation: {
                        'fade-in': 'fadeIn 0.3s ease-out',
                        'slide-in': 'slideIn 0.3s ease-out',
                        'pulse': 'pulse 2s infinite'
                    },
                    keyframes: {
                        fadeIn: {
                            '0%': { opacity: '0', transform: 'translateY(10px)' },
                            '100%': { opacity: '1', transform: 'translateY(0)' }
                        },
                        slideIn: {
                            '0%': { transform: 'translateX(-100%)' },
                            '100%': { transform: 'translateX(0)' }
                        }
                    }
                }
            }
        }
    </script>
    
    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="assets/images/favicon.ico">
    
    <!-- Meta tags -->
    <meta name="description" content="ShareAkun Admin Dashboard - Manage your shared account services">
    <meta name="keywords" content="admin, dashboard, shared accounts, management">
    <meta name="author" content="ShareAkun Team">
    
    <!-- Open Graph -->
    <meta property="og:title" content="ShareAkun Admin Dashboard">
    <meta property="og:description" content="Manage your shared account services efficiently">
    <meta property="og:type" content="website">
    
    <!-- Theme color -->
    <meta name="theme-color" content="#3b82f6">
</head>
<body>
    <div class="flex h-screen bg-gradient-to-br from-slate-50 to-indigo-50">
        <!-- Sidebar -->
        <aside class="w-72 lg:w-64 bg-white shadow-lg transform transition-transform duration-300 ease-in-out lg:translate-x-0 -translate-x-full fixed inset-y-0 left-0 lg:relative z-10 overflow-y-auto" data-sidebar>
            <!-- Sidebar Header -->
            <div class="p-6 bg-white border-b border-gray-200">
                <div class="flex items-center justify-between">
                    <a href="#" class="flex items-center space-x-3 text-gray-800">
                        <img src="../../logo.png" alt="ShareX.ID" class="w-8 h-8">
                        <span class="text-xl font-bold">ShareX.ID admin</span>
                    </a>
                    <!-- Mobile close button -->
                    <button id="sidebar-close" class="lg:hidden p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-lg transition-colors">
                        <i class="fas fa-times text-lg"></i>
                    </button>
                </div>
            </div>
            
            <!-- Navigation -->
            <nav class="mt-6 px-4">
                <div class="space-y-2">
                    <!-- Customer Section -->
                    <div class="mb-4">
                        <button onclick="toggleSection('customer')" class="w-full flex items-center justify-between px-3 py-2 text-gray-700 hover:bg-gray-100 rounded-lg transition-colors">
                            <div class="flex items-center space-x-3">
                                <i class="fas fa-users text-gray-500 w-5"></i>
                                <span class="font-medium">Customer</span>
                            </div>
                            <i id="customer-arrow" class="fas fa-chevron-right text-gray-400 transition-transform text-sm"></i>
                        </button>
                        <div id="customer-menu" class="ml-6 mt-2 space-y-1 hidden">
                            <a href="#" onclick="showPage('pre-order')" class="block px-3 py-2 text-sm text-gray-600 hover:bg-gray-100 rounded-lg transition-colors">
                                <i class="fas fa-circle text-xs mr-2"></i>Pre Order
                            </a>
                            <a href="#" onclick="showPage('renew')" class="block px-3 py-2 text-sm text-gray-600 hover:bg-gray-100 rounded-lg transition-colors">
                                <i class="fas fa-circle text-xs mr-2"></i>Renew
                            </a>
                            <a href="#" onclick="showPage('waiting-list')" class="block px-3 py-2 text-sm text-gray-600 hover:bg-gray-100 rounded-lg transition-colors">
                                <i class="fas fa-circle text-xs mr-2"></i>Waiting List
                            </a>
                            <a href="#" onclick="showPage('aktif')" class="block px-3 py-2 text-sm text-gray-600 hover:bg-gray-100 rounded-lg transition-colors">
                                <i class="fas fa-circle text-xs mr-2"></i>Aktif
                            </a>
                            <a href="#" onclick="showPage('cancelled')" class="block px-3 py-2 text-sm text-gray-600 hover:bg-gray-100 rounded-lg transition-colors">
                                <i class="fas fa-circle text-xs mr-2"></i>Cancelled
                            </a>
                        </div>
                    </div>

                    <!-- Groups & Accounts Section -->
                    <div class="mb-4">
                        <button onclick="toggleSection('groups')" class="w-full flex items-center justify-between px-3 py-2 text-gray-700 hover:bg-gray-100 rounded-lg transition-colors">
                            <div class="flex items-center space-x-3">
                                <i class="fas fa-layer-group text-gray-500 w-5"></i>
                                <span class="font-medium">Groups & Accounts</span>
                            </div>
                            <i id="groups-arrow" class="fas fa-chevron-right text-gray-400 transition-transform text-sm"></i>
                        </button>
                        <div id="groups-menu" class="ml-6 mt-2 space-y-1 hidden">
                            <a href="#" onclick="showPage('groups')" class="block px-3 py-2 text-sm text-gray-600 hover:bg-gray-100 rounded-lg transition-colors">
                                <i class="fas fa-circle text-xs mr-2"></i>Groups
                            </a>
                            <a href="#" onclick="showPage('expired-account')" class="block px-3 py-2 text-sm text-gray-600 hover:bg-gray-100 rounded-lg transition-colors">
                                <i class="fas fa-circle text-xs mr-2"></i>Expired Account
                            </a>
                            <a href="#" onclick="showPage('expired-3-days')" class="block px-3 py-2 text-sm text-gray-600 hover:bg-gray-100 rounded-lg transition-colors">
                                <i class="fas fa-circle text-xs mr-2"></i>Expired in 3 Days
                            </a>
                            <a href="#" onclick="showPage('expired-7-days')" class="block px-3 py-2 text-sm text-gray-600 hover:bg-gray-100 rounded-lg transition-colors">
                                <i class="fas fa-circle text-xs mr-2"></i>Expired in 7 Days
                            </a>
                        </div>
                    </div>

                    <!-- Provider Section -->
                    <div class="mb-4">
                        <button onclick="toggleSection('provider')" class="w-full flex items-center justify-between px-3 py-2 text-gray-700 hover:bg-gray-100 rounded-lg transition-colors">
                            <div class="flex items-center space-x-3">
                                <i class="fas fa-building text-gray-500 w-5"></i>
                                <span class="font-medium">Provider</span>
                            </div>
                            <i id="provider-arrow" class="fas fa-chevron-right text-gray-400 transition-transform text-sm"></i>
                        </button>
                        <div id="provider-menu" class="ml-6 mt-2 space-y-1 hidden">
                            <a href="#" onclick="showPage('kategori-provider')" class="block px-3 py-2 text-sm text-gray-600 hover:bg-gray-100 rounded-lg transition-colors">
                                <i class="fas fa-circle text-xs mr-2"></i>Kategori Provider
                            </a>
                            <a href="#" onclick="showPage('provider')" class="block px-3 py-2 text-sm text-gray-600 hover:bg-gray-100 rounded-lg transition-colors">
                                <i class="fas fa-circle text-xs mr-2"></i>Provider
                            </a>
                        </div>
                    </div>

                    <!-- Employee Section -->
                    <div class="mb-4">
                        <a href="#" onclick="showPage('employee')" class="flex items-center space-x-3 px-3 py-2 text-gray-700 hover:bg-blue-50 rounded-lg transition-colors">
                            <i class="fas fa-user-tie text-gray-500 w-5"></i>
                            <span class="font-medium">Employee</span>
                        </a>
                    </div>

                    <!-- Logout -->
                    <div class="mt-8">
                        <a href="#" class="flex items-center space-x-3 px-3 py-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors">
                            <i class="fas fa-sign-out-alt text-red-500 w-5"></i>
                            <span class="font-medium">Logout</span>
                        </a>
                    </div>
                </div>
            </nav>
        </aside>

        <!-- Mobile Backdrop - Removed to allow clicks -->

        <!-- Main Content -->
        <div class="flex-1 flex flex-col overflow-hidden lg:ml-0 ml-0">
            <!-- Header -->
            <header class="fixed top-0 left-0 right-0 z-50 px-3 lg:px-6 py-3 lg:py-4 bg-white/98 backdrop-blur-md border-b border-gray-200/50 shadow-lg lg:sticky lg:top-0">
                <div class="flex flex-col lg:flex-row lg:items-center lg:justify-between gap-3 lg:gap-4">
                    <!-- Mobile: Top row with hamburger and breadcrumb -->
                    <div class="flex items-center justify-between lg:justify-start lg:space-x-4">
                        <div class="flex items-center space-x-3 lg:space-x-4">
                            <button id="sidebar-toggle" class="relative z-50 text-gray-500 hover:text-gray-700 lg:hidden p-2 rounded-lg hover:bg-gray-100 transition-colors">
                                <i class="fas fa-bars text-lg"></i>
                            </button>
                            <div class="flex items-center space-x-2 text-sm text-gray-600">
                                <i class="fas fa-home text-xs"></i>
                                <span id="breadcrumb" class="font-medium truncate max-w-[200px] sm:max-w-none">Customer > Waiting List</span>
                            </div>
                        </div>
                        <!-- Mobile: Profile/User info -->
                        <div class="flex items-center space-x-2 lg:hidden">
                            <div class="w-8 h-8 bg-green-600 rounded-full flex items-center justify-center">
                                <i class="fas fa-user text-white text-sm"></i>
                            </div>
                            <span class="text-sm font-medium text-gray-700">Admin</span>
                        </div>
                    </div>
                    
                    <!-- Desktop: Search bar -->
                    <div class="hidden lg:flex lg:items-center lg:space-x-4">
                        <div class="relative">
                            <input type="text" placeholder="Cari Order..." class="w-64 px-4 py-2 pl-10 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all">
                            <i class="fas fa-search absolute left-3 top-3 text-gray-400"></i>
                        </div>
                        <div class="flex items-center space-x-3">
                            <button class="p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-lg transition-colors">
                                <i class="fas fa-bell text-lg"></i>
                            </button>
                            <div class="flex items-center space-x-3">
                                <div class="w-8 h-8 bg-green-600 rounded-full flex items-center justify-center">
                                    <i class="fas fa-user text-white text-sm"></i>
                                </div>
                                <span class="text-sm font-medium text-gray-700">Admin</span>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Mobile: Search bar (full width below) -->
                    <div class="lg:hidden w-full">
                        <div class="relative">
                            <input type="text" placeholder="Cari Order..." class="w-full px-4 py-2 pl-10 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all bg-white/90 backdrop-blur-sm">
                            <i class="fas fa-search absolute left-3 top-3 text-gray-400"></i>
                        </div>
                    </div>
                </div>
            </header>

            <!-- Content Area -->
            <main class="flex-1 overflow-y-auto pt-16 lg:pt-0" data-content>
                <!-- Content will be loaded dynamically here -->
            </main>
        </div>
    </div>

    <!-- Modals -->
    <!-- Upload Bukti Pelunasan Modal -->
    <div id="upload-modal" class="fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full hidden z-50">
        <div class="relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white">
            <div class="mt-3">
                <div class="flex items-center justify-between mb-4">
                    <h3 class="text-lg font-medium text-gray-900">Kirim Bukti Pelunasan</h3>
                    <button onclick="closeModal('upload-modal')" class="text-gray-400 hover:text-gray-600">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
                <div class="mb-4">
                    <label class="block text-sm font-medium text-gray-700 mb-2">Pilih File</label>
                    <input type="file" class="block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100">
                    <p class="text-sm text-gray-500 mt-1">Format yang didukung: JPG, PNG, PDF (Max 5MB)</p>
                </div>
                <div class="flex justify-end space-x-3">
                    <button onclick="closeModal('upload-modal')" class="px-4 py-2 bg-gray-300 text-gray-700 rounded-md hover:bg-gray-400">
                        Tutup
                    </button>
                    <button class="px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700">
                        <i class="fas fa-upload mr-2"></i>Kirim
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Create Account Modal -->
    <div id="create-account-modal" class="fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full hidden z-50">
        <div class="relative top-10 mx-auto p-5 border w-full max-w-2xl shadow-lg rounded-md bg-white">
            <div class="mt-3">
                <div class="flex items-center justify-between mb-4">
                    <h3 class="text-lg font-medium text-gray-900">Tambah data Akun</h3>
                    <button onclick="closeModal('create-account-modal')" class="text-gray-400 hover:text-gray-600">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
                <div class="mb-4">
                    <p class="text-sm text-gray-600 mb-4">Silahkan input data dengan tepat</p>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">Group</label>
                            <input type="text" value="Netflix User Host TV #3" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500" readonly>
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">Customer</label>
                            <input type="text" value="Sopipi / sopipi@gmail.com / 6281997900005" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500" readonly>
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">Status</label>
                            <select class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500">
                                <option>Active</option>
                                <option>Inactive</option>
                            </select>
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">Information (opsional)</label>
                            <input type="text" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500">
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">Username Akun Produk</label>
                            <input type="text" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500">
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">Tanggal Mulai</label>
                            <input type="date" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500">
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">Password Akun Produk</label>
                            <input type="password" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500">
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">Tanggal Expired</label>
                            <input type="date" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500">
                        </div>
                    </div>
                </div>
                <div class="flex justify-end space-x-3">
                    <button onclick="closeModal('create-account-modal')" class="px-4 py-2 bg-gray-300 text-gray-700 rounded-md hover:bg-gray-400">
                        Kembali
                    </button>
                    <button class="px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700">
                        Submit
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Add to Group Modal -->
    <div id="add-to-group-modal" class="fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full hidden z-50">
        <div class="relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white">
            <div class="mt-3">
                <div class="flex items-center justify-between mb-4">
                    <h3 class="text-lg font-medium text-gray-900">Tambah Pelanggan ke Group</h3>
                    <button onclick="closeModal('add-to-group-modal')" class="text-gray-400 hover:text-gray-600">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
                <div class="mb-4">
                    <p class="text-sm text-gray-600 mb-4">Silahkan pilih group yang tersedia</p>
                    <div class="mb-4">
                        <div class="text-sm text-gray-700 mb-2">INV #9356</div>
                        <div class="text-sm text-gray-700 mb-2">Netflix - User Host TV 1 bulan</div>
                        <div class="text-sm text-gray-700 mb-2">Sopir</div>
                        <div class="text-sm text-gray-700 mb-2">sopir@gmail.com</div>
                        <div class="text-sm text-gray-700 mb-4">6281997900005</div>
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">Group</label>
                        <select class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500">
                            <option>user host 123 - tersedia 0 orang</option>
                            <option>user host 1 bin #12 - tersedia 0 orang</option>
                            <option selected>Netflix User Host TV #3 - tersedia 3 orang</option>
                        </select>
                    </div>
                </div>
                <div class="flex justify-end space-x-3">
                    <button onclick="closeModal('add-to-group-modal')" class="px-4 py-2 bg-gray-300 text-gray-700 rounded-md hover:bg-gray-400">
                        Kembali
                    </button>
                    <button class="px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700">
                        Submit
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Notification Container -->
    <div id="notification-container" class="fixed top-4 right-4 z-50"></div>

    <!-- Scripts -->
    <script>
        // Simple JavaScript for Tailwind Dashboard
        let currentPage = (location.hash && location.hash.substring(1)) || 'waiting-list';
        
        function toggleSection(section) {
            const menu = document.getElementById(section + '-menu');
            const arrow = document.getElementById(section + '-arrow');
            
            if (menu.classList.contains('hidden')) {
                menu.classList.remove('hidden');
                arrow.style.transform = 'rotate(90deg)';
            } else {
                menu.classList.add('hidden');
                arrow.style.transform = 'rotate(0deg)';
            }
        }
        
        function showPage(page) {
            currentPage = page;
            // sync URL hash for deep linking/back-forward support
            if (location.hash.substring(1) !== page) {
                location.hash = `#${page}`;
            }
            const content = document.querySelector('[data-content]');
            
            // Update breadcrumb
            const breadcrumbMap = {
                'pre-order': 'Customer > Pre Order',
                'renew': 'Customer > Renew',
                'waiting-list': 'Customer > Waiting List',
                'aktif': 'Customer > Aktif',
                'cancelled': 'Customer > Cancelled',
                'groups': 'Groups & Accounts > Groups',
                'expired-account': 'Groups & Accounts > Expired Account',
                'expired-3-days': 'Groups & Accounts > Expired in 3 Days',
                'expired-7-days': 'Groups & Accounts > Expired in 7 Days',
                'kategori-provider': 'Provider > Kategori Provider',
                'kategori-provider-tambah': 'Provider > Kategori Provider > Tambah',
                'kategori-provider-edit': 'Provider > Kategori Provider > Edit',
                'kategori-provider-delete': 'Provider > Kategori Provider > Hapus',
                'provider': 'Provider > Provider',
                'provider-tambah': 'Provider > Tambah',
                'provider-edit': 'Provider > Edit',
                'provider-delete': 'Provider > Hapus',
                'provider-detail': 'Provider > Detail',
                'provider-paket-tambah': 'Provider > Paket > Tambah',
                'employee': 'Employee',
                'employee-tambah': 'Employee > Tambah',
                'employee-detail': 'Employee > Detail',
                'employee-edit': 'Employee > Edit'
            };
            
            document.getElementById('breadcrumb').textContent = breadcrumbMap[page] || 'Dashboard';

            // Highlight active sidebar link
            try {
                const allLinks = document.querySelectorAll('nav a[onclick^="showPage("]');
                allLinks.forEach(a => a.classList.remove('bg-gray-100','text-gray-800'));
                const active = document.querySelector(`nav a[onclick="showPage('${page}')"]`);
                if (active) {
                    active.classList.add('bg-gray-100','text-gray-800');
                }
            } catch(_) {}
            
            // Load page content (relative to this index.html)
            let pagePath = '';
            if (['pre-order', 'renew', 'waiting-list', 'aktif', 'cancelled'].includes(page)) {
                pagePath = `pages/customer/${page}.html`;
            } else if (['groups', 'expired-account', 'expired-3-days', 'expired-7-days'].includes(page)) {
                pagePath = `pages/groups/${page}.html`;
            } else if (['kategori-provider', 'kategori-provider-tambah', 'kategori-provider-edit', 'kategori-provider-delete', 'provider', 'provider-tambah', 'provider-edit', 'provider-delete', 'provider-detail', 'provider-paket-tambah'].includes(page)) {
                pagePath = `pages/provider/${page}.html`;
            } else if (['employee', 'employee-tambah', 'employee-detail', 'employee-edit'].includes(page)) {
                pagePath = `pages/employee/${page}.html`;
            } else {
                pagePath = `pages/${page}.html`;
            }

            fetch(pagePath)
                .then(response => response.text())
                .then(html => {
                    content.innerHTML = html;
                })
                .catch(error => {
                    content.innerHTML = `
                        <div class="bg-white rounded-lg shadow-sm p-6">
                            <div class="text-center py-8">
                                <div class="text-red-500 mb-4">
                                    <i class="fas fa-exclamation-triangle fa-3x mb-4"></i>
                                    <p class="text-lg">Error Loading Page</p>
                                    <p class="text-sm">Something went wrong. Please try again.</p>
                                </div>
                                <button onclick="showPage('${page}')" class="bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-md">
                                    <i class="fas fa-refresh mr-2"></i>Retry
                                </button>
                            </div>
                        </div>
                    `;
                });
        }
        
        function openModal(modalId) {
            document.getElementById(modalId).classList.remove('hidden');
        }
        
        function closeModal(modalId) {
            document.getElementById(modalId).classList.add('hidden');
        }
        
        function handleUploadBukti() {
            openModal('upload-modal');
        }
        
        function handleBuatAkun() {
            openModal('create-account-modal');
        }
        
        function handleAddToGroup() {
            openModal('add-to-group-modal');
        }
        
        // Initialize dashboard
        document.addEventListener('DOMContentLoaded', function() {
            // Show initial page
            showPage(currentPage);

            // Delegate SPA nav links inside loaded content
            document.addEventListener('click', function(e){
                const link = e.target.closest('[data-nav-link]');
                if (link && link.getAttribute('data-page')) {
                    e.preventDefault();
                    const targetPage = link.getAttribute('data-page');
                    showPage(targetPage);
                }
                // Prevent default hash change for dummy links href="#"
                const dummy = e.target.closest('a[href="#"]');
                if (dummy && !dummy.hasAttribute('data-nav-link')) {
                    e.preventDefault();
                }
            });

            // Support browser back/forward via hash
            window.addEventListener('hashchange', function(){
                const raw = location.hash ? location.hash.substring(1) : '';
                // Ignore empty "#" changes (from href="#")
                if (!raw) return;
                if (raw !== currentPage) {
                    showPage(raw);
                }
            });

            // Sidebar toggle for mobile
            const sidebar = document.querySelector('[data-sidebar]');
            const toggleBtn = document.getElementById('sidebar-toggle');
            const closeBtn = document.getElementById('sidebar-close');
            const header = document.querySelector('header');

            function openSidebar() {
                sidebar.classList.remove('-translate-x-full');
                header.classList.add('hidden'); // Hide header when sidebar opens
            }

            function closeSidebar() {
                sidebar.classList.add('-translate-x-full');
                header.classList.remove('hidden'); // Show header when sidebar closes
            }

            toggleBtn.addEventListener('click', function() {
                if (sidebar.classList.contains('-translate-x-full')) {
                    openSidebar();
                } else {
                    closeSidebar();
                }
            });

            // Close sidebar when close button is clicked
            closeBtn.addEventListener('click', closeSidebar);

            // Close sidebar when menu items are clicked (mobile only)
            const menuLinks = sidebar.querySelectorAll('a[onclick]');
            menuLinks.forEach(link => {
                link.addEventListener('click', function() {
                    // Only close sidebar on mobile
                    if (window.innerWidth < 1024) {
                        closeSidebar();
                    }
                });
            });

            // Close sidebar when clicking outside (but not on backdrop)
            document.addEventListener('click', function(event) {
                const isClickInsideSidebar = sidebar.contains(event.target);
                const isClickOnToggle = toggleBtn.contains(event.target);
                const isClickOnClose = closeBtn.contains(event.target);
                
                if (!isClickInsideSidebar && !isClickOnToggle && !isClickOnClose && !sidebar.classList.contains('-translate-x-full')) {
                    if (window.innerWidth < 1024) {
                        closeSidebar();
                    }
                }
            });

            // Close sidebar when resizing to desktop
            window.addEventListener('resize', function() {
                if (window.innerWidth >= 1024) {
                    closeSidebar();
                }
            });

            // Auto-expand customer section
            toggleSection('customer');
        });
    </script>
</body>
</html>
